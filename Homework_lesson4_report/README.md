# Установка MongoDB и написание bash скриптов
## Часть 1. Установка MongoDB

**Офтоп**<br>
Сразуже при установке стандартным путем (запуск через демона) у меня возникли проблемы, связанные с отсутствием поддержки на моем процессоре расширения AVX, требуемых при установки монги с версии 5.0<br>
Перерыв пол интернета и не найдя решения --> выбрал докер в качестве изолированной среды для монги с версией образара 4.4<br>

Скрин ошибки<br>
![image](https://github.com/user-attachments/assets/20a2e107-2d76-45ee-967e-ef1d2ff6e4e0)

**1. Установка MongoDB**<br>
`sudo docker run -dp 27017:27017 -v local-mongo:/data/db --name local-mongo --restart=always mongo:4.4`<br>
`docker ps`<br>
`docker exec -it local-mongo sh`

1. Создаем контейнер с монгой
2. Проверяем бежит ли сейчас контейнер
3. Проваливаемся во внутрь контейнера для вызова интерпритатора mongosh

Не видел смысла делать здесь скрин запущенного контейнера, образ тянется с докер хаба нужной мне версии монги. Собсна, усе :)

**2. Создание таблицы data**<br>
`mongo`<br>
`show dbs`<br>
`db.createCollection('data')`<br>
`show collections`<br>

1. Запускаем интерпритатор монги для юзания команд самой монги
2. Смотрим какие локальные БД уже есть (по заданию БД отдельную создавать не нужно было, поэтому выбрал дефолтную --> admin)
3. Создаем коллецию data
4. Проверяем список наших коллекций
   ![image](https://github.com/user-attachments/assets/5c967ced-8edf-4e08-bc9f-d3fbf98cfc67)
   ![image](https://github.com/user-attachments/assets/09623a20-69d9-4825-b033-fa79aedd1773)
   
**3. Создание user:manager**<br>
`db.createUser({
  user: "manager",
  pwd: "123",
  roles : [ "read" ]
})`<br>
`db.getUsers()`<br>

1. Создание самого пользователя с ролью на чтение
2. Проверяем действительно ли был создан пользователь
   ![image](https://github.com/user-attachments/assets/a5077d1c-9f23-4046-9a3e-400b7afba7df)

## Часть 2. Написание bash-скриптов
Скрипт лежит в репе. Расписывать его детально смысла не вижу. Опишу лишь что нужно для того, чтобы его запустить ну и тест-кейсы на корректное поведение.

1. Определяем шебанг в заголовке скрипта: `!#/bin/bash`
2. Даем права на исполнение: `chmod +x <my_script.sh>`
3. Создаем файлы с которыми будем развлекаться: `for i in {1..5}; do touch file$i.txt; done`

**Первичная подготовка закончена. Далее проверяем работу скрипта**
1. Рабочий вариант: `передаем название файла и расширение --> на выходе получаем измененный файл с указанным расширением`<br>
   ![image](https://github.com/user-attachments/assets/f5f36798-f09d-4d2a-9047-e150e22a96a4)<br>

2. Проверка на отсутствие расширения у файла<br>
   ![image](https://github.com/user-attachments/assets/daba3b26-6439-43f3-ac1d-4a0ea9d56618)<br>
   
3. Проверка на отсутствие указанного расширения<br>
   ![image](https://github.com/user-attachments/assets/653ff991-fcd3-4792-beb8-e66312f17ae4)<br>

4. Проверка на отсутствие файла<br>
   ![image](https://github.com/user-attachments/assets/4c408adf-c634-4985-b683-4ddb61fb69ef)

**Скрипт №2**
Честно скажу, что задание без нужных вводных, поэтому даже скрипт писать не стал<br>
`cat my_file.txt | awk '{print $1}' --> где $1 - нужная нам подстрока`




   


